@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import mobile performance optimizations */
@import './mobile-performance.css';
@import '../styles/mobile-keyboard.css';

/* Shimmer animation for skeleton loading */
@keyframes shimmer {
  100% {
    transform: translateX(100%);
  }
}

/* Hide scrollbar for AllergensDropdown chips */
.scrollbar-hide {
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  scrollbar-width: none; /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Safari and Chrome */
}

@layer base {
  body {
    @apply bg-cream text-primary;
  }

  /* Fix for mobile Safari flickering and scrolling issues */
  html,
  body {
    -webkit-tap-highlight-color: transparent;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Prevent flickering on iOS - apply only to elements that need it */
  .gpu-accelerated {
    -webkit-transform: translateZ(0);
    -webkit-backface-visibility: hidden;
  }

  /* Smooth scrolling for mobile */
  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
  }

  /* Custom styling for date input to match design system */
  input[type='date'] {
    font-family:
      'Manrope',
      system-ui,
      -apple-system,
      sans-serif;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
  }

  /* Style the date picker calendar icon */
  input[type='date']::-webkit-calendar-picker-indicator {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%23666'%3e%3cpath fill-rule='evenodd' d='M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z' clip-rule='evenodd'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 20px;
    width: 20px;
    height: 20px;
    cursor: pointer;
    opacity: 0.6;
  }

  input[type='date']::-webkit-calendar-picker-indicator:hover {
    opacity: 1;
  }

  /* Hide default date formatting when no value */
  input[type='date']:invalid {
    color: #9ca3af;
  }
}
